# Git

## Конфигурационные файлы

Команда `git config`

* `--system` находится в `/etc/gitconfig`
* `--global` находится в `~/.gitconfig`
* `--local` (по умолчанию) находится в `<project>/.git/config`

`git config -e` открыть config на редактирование

## Рабочий процесс

Working Directory -----`add`-----> Index -----`commit`-----> Repository

### Типичные сценарии

#### Удаления файла

1. удалить `file`

2. `git add file`

3. закоммитить

> Пункты 1 и 2 можно заменить на один `git rm file`

> `git rm --cached` удаляет только изменения, которые уже попали в Index.

#### Переименование (перемещение)

1. `mv f1 f2`

2. `git add f1 f2`

> или просто `git mv f1 f2`

#### Передвижение веток 

1. `git checkout -b fix`

2. `git branch -f master <id коммита>` 

> обратно `git branch -fmaster fix`

### Всякие тонкости
Если имя файла совпадает с названием ветки, то перед путём ставим `--`

Обращение к коммиту по id это минимум 4 символа

По факту ветка это ссылка на один коммит

По умолчанию при переключении все незакоммиченные изменения переходят на другую ветку(если нет конфликта)

Если нужно сохранить изменения относительно последнего коммита `git stash`, вернуть `git stash pop`
> важно следить за местом использования так как это не приязывается к ветке
### Основные команды

`git init` &mdash; определяем текущую папку как гит репозиторий

`git status` 

`git add` &mdash; добавить файлы в Index

`git add .` &mdash; добавить всё

`git show`

`git commit` &mdash; открывает core.editor из конфига для добавления описания. Первая строка это заголовок(до 50 символов), дальше через пустую строчку идёт описание коммита.

`git commit -m "simple commit name"`
> если слово одно, то можно без кавычек

`git commit -a` &mdash; добавляет в репозиторий всё то, что уже есть в Index

`git branch` &mdash; показ веток

`git branch -v` &mdash; показ вместе с id коммитов

`git branch feature` &mdash; создаём новую ветку feature

`git checkout feature` &mdash; переключение на ветку feature

`git checkout -b fix` &mdash; создать ветку fix и переключиться на неё

`git checkout -B master <id коммита>` &mdash; передвинуть ветку master и переключиться на неё

`git checkout -f HEAD` &mdash; принудительное переключение в то же самое место равносильно простому откату на последнй коммит, Index тоже перезаписывается

`git checkout <id коммита> <путь к файлу>` &mdash; восстанавливает версию файла из коммита и сразу добавляет в Index

`git reset file` &mdash; сбрасывает Index для файла, не изменяя рабочую директорию

`git log --oneline` &mdash; компактный вид коммитов от HEAD
